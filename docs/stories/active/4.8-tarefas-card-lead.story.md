# US-08: Criar e Visualizar Tarefas no Card do Lead

**Story ID:** 4.8
**Epic:** EPIC-4 (Tarefas e Follow-up)
**Status:** Ready
**Prioridade:** Média
**Esforço:** 5 pontos
**Sprint:** 2
**Data Criação:** 2026-02-23

---

## User Story

**Como** qualquer usuário do CRM
**Quero** criar tarefas com data, tipo e responsável diretamente dentro do lead
**Para que** nenhum follow-up seja esquecido e toda a equipe saiba o status do atendimento

---

## Acceptance Criteria

- [ ] Aba 'Tarefas' disponível dentro do card/detalhe do lead
- [ ] Campos de criação: título, tipo (ligação, mensagem, reunião, e-mail, outro), data/hora, responsável
- [ ] Tarefas listadas com status (pendente, concluída, atrasada)
- [ ] Ao completar uma tarefa, sistema solicita registro de resultado (campo de texto livre)
- [ ] Tarefas atrasadas destacadas visualmente em vermelho

---

## Scope

### IN
- Schema: `Task` model (title, type, dueDate, assignee, status, result)
- UI: Aba 'Tarefas' no card do lead
- Formulário de criação de tarefa
- Lista de tarefas com filtro por status
- Marcar como concluída com campo de resultado
- Destaque visual para tarefas atrasadas

### OUT
- Notificações automáticas
- Recorrência de tarefas
- Templates de tarefas por tipo de lead

---

## Criteria of Done

- [ ] Schema implementado
- [ ] UI completa e responsiva
- [ ] Criar, ler, atualizar, completar tarefas
- [ ] Validações funcionando
- [ ] Histórico de tarefas mantido
- [ ] Testes unitários cobrindo 80%+
- [ ] Deploy agendado

---

## Technical Notes

- Modelo: `Task { id, leadId, title, type, dueDate, assignee, status, result, createdAt, updatedAt }`
- Tipos: ENUM('CALL', 'MESSAGE', 'MEETING', 'EMAIL', 'OTHER')
- Status: ENUM('PENDING', 'COMPLETED', 'OVERDUE')
- Componente: `TasksTab`, `TaskForm`, `TaskList`
- Determinar `OVERDUE` comparando `dueDate < today` e `status = PENDING`

---

## Change Log

- **2026-02-23** - Story criada por Orion
